[sqlfluff]

# Use BigQuery dialect and dbt templater
dialect = bigquery
templater = dbt

# Exclude rule that enforces column order (ST06)
# and rule that enforces lower case unquoted identifiers (CP02)
exclude_rules = ST06, CP02

# Set max line length
max_line_length = 85

# Set max file size (default=20000)
large_file_skip_byte_limit = 30000

[sqlfluff:templater:dbt]
project_dir = ./

# Use explicit aliasing in tables and columns
[sqlfluff:rules:aliasing.table]
aliasing = explicit
[sqlfluff:rules:aliasing.column]
aliasing = explicit
# Alias length should be at least 1 character
[sqlfluff:rules:aliasing.length]
min_alias_length = 1

# Use lowercase for keywords, identifiers, functions, literals and types
[sqlfluff:rules:capitalisation.keywords]
capitalisation_policy = lower
[sqlfluff:rules:capitalisation.identifiers]
capitalisation_policy = lower
[sqlfluff:rules:capitalisation.functions]
extended_capitalisation_policy = lower
[sqlfluff:rules:capitalisation.literals]
capitalisation_policy = lower
[sqlfluff:rules:capitalisation.types]
extended_capitalisation_policy = lower

# Use trailing commas
[sqlfluff:layout:type:comma]
spacing_before = touch
line_position = trailing

# Comments should be on their own line before the statement
[sqlfluff:indentation]
trailing_comments = before